# 開発モードについて

---

## <a name="Introduction"></a>概要
AppSteroid上の全てのアプリケーションは開発用と本番用の２つのデータ領域を保有します。
開発モードで動作した場合、投稿など全てのデータは本番用とは別のデータベースに格納され、ユーザに見えません。
使い分けることで本番データを汚すことなく開発を行うことが可能です。


### <a name="development_mode"></a>開発モードの実行 (コード例)

起動時に startWithAppIdentifier:secretToken:development: を呼び出す事で開発モードとして実行できます。
典型的な使い方としては、シミュレーターや開発端末での動作させる場合は開発モードとしてビルドし、配布用ビルド時は本番モードとしてビルドすることです。
これをマクロを利用して実現した場合のコード例を以下に示します。

```obj-c
// AppDeletegate.m
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
  …

#ifdef DEBUG
  [AppSteroid startWithAppIdentifier:"$YOUR_APP_ID"
                         secretToken:"$YOUR_APP_SECRET"
                         development:YES];
#else
  [AppSteroid startWithAppIdentifier:"$YOUR_APP_ID"
                         secretToken:"$YOUR_APP_SECRET"
                         development:NO];
#endif

  …

}

```

Build ConfigurationをDebugにすると開発モードとして実行し、Release/AdHoc にすると本番モードとして実行されます。

またモード毎にユーザを保存している為、一つの端末で開発モード・本番モードの両方で動作させた場合でも実行時のモードにあわせたユーザ情報を復元します。
これにより素早く本番データと開発データを切り替えて開発を行うことが可能となります。

**※注意** Webコンソールから行うデータ管理は本番用のデータとなります。


## APNs証明書の種類について

APNs証明書には Development および Production の２種類が存在します。（詳しくはiOS Dev Centerを参照）
Webコンソールから本番用、開発用に個別に任意の種類の証明書を登録することが可能です。  

AppSteroid SDK内部でProvisioning Profileの種類を特定しているので、デベロッパーは`AppDelegate.m`に以下のコードを記述するだけでデバイストークンをFresviiサーバーに登録することが可能です。

```obj-c
// AppDelegate.m
- (void)application:(UIApplication *)application
didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
{
    [FASNotification addDeviceToken:deviceToken
                         completion:nil];
}

```

